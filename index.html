<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–õ–∞–±—É–±—É –ö–ª–∏–∫–µ—Ä - Telegram</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* –î–û–ë–ê–í–õ–ï–ù–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –®–†–ò–§–¢–û–í –ò –ó–£–ú–ê */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%; /* –§–∏–∫—Å —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –Ω–∞ iOS */
            -ms-text-size-adjust: 100%; /* –§–∏–∫—Å —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –Ω–∞ Windows Phone */
            -moz-text-size-adjust: 100%; /* –§–∏–∫—Å —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –Ω–∞ Firefox */
            text-size-adjust: 100%; /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ */
            -webkit-user-select: none; /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
            user-select: none; /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        :root {
            --primary: #FF9EC5;
            --secondary: #A5D8FF;
            --accent: #FFD166;
            --background: #FFF5F7;
            --card: #FFFFFF;
            --text: #5A3E51;
            --boss-color: #FF6B6B;
            --player-color: #4CAF50;
            --common: #B0B0B0;
            --rare: #5BCEFA;
            --epic: #F5A9B8;
            --legendary: #FFD700;
        }
        
        body {
            background: var(--background);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            color: var(--text);
            overflow-x: hidden;
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif; /* –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã */
            background-image: url('https://prod-america-res.popmart.com/default/20240801_185220_235057_________1920x1080.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-blend-mode: soft-light;
            touch-action: manipulation; /* –§–∏–∫—Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∫–ª–∏–∫–∞—Ö */
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(165, 216, 255, 0.3);
            overflow: hidden;
            position: relative;
            border: 3px solid var(--primary);
            margin: 15px;
            height: calc(100vh - 30px);
            display: flex;
            flex-direction: column;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px 15px 15px;
            text-align: center;
            position: relative;
            border-bottom: 5px solid var(--accent);
        }
        
        .tg-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px 0;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
        }
        
        .tg-close-btn {
            background: rgba(0,0,0,0.2);
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        h1 {
            font-size: 1.8rem;
            color: white;
            text-shadow: 3px 3px 0 rgba(90, 62, 81, 0.3);
            margin-bottom: 10px;
            font-family: 'Comic Neue', -apple-system, BlinkMacSystemFont, cursive; /* –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã */
            letter-spacing: 1px;
            padding-top: 10px;
        }
        
        .subtitle {
            font-size: 1rem;
            color: white;
            max-width: 700px;
            margin: 0 auto;
            text-shadow: 1px 1px 1px rgba(90, 62, 81, 0.3);
        }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        /* ... */
        
        /* –î–û–ë–ê–í–õ–ï–ù–û: –§–∏–∫—Å–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        .labubu-container {
            position: relative;
            cursor: pointer;
            transition: transform 0.1s;
            margin-bottom: 15px;
            perspective: 1000px;
            touch-action: none; /* –í–∞–∂–Ω–æ: –æ—Ç–∫–ª—é—á–∞–µ–º –∂–µ—Å—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è */
        }
        
        /* –î–û–ë–ê–í–õ–ï–ù–û: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ */
        .labubu-image {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            object-fit: contain;
            border: 6px solid var(--accent);
            box-shadow: 0 0 20px rgba(255, 209, 102, 0.5);
            background: white;
            transition: all 0.3s;
            padding: 10px;
            background-color: #f8f8f8;
            touch-action: manipulation; /* –§–∏–∫—Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è */
        }
        
        /* –î–û–ë–ê–í–õ–ï–ù–û: –§–∏–∫—Å –¥–ª—è iOS */
        @supports (-webkit-touch-callout: none) {
            body {
                -webkit-user-select: none; /* iOS Safari */
            }
            .labubu-container {
                -webkit-touch-callout: none; /* iOS Safari */
            }
        }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        /* ... */
    </style>
</head>
<body>
    <!-- –í–µ—Å—å HTML –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div class="container">
        <div class="tg-header">
            <button class="tg-close-btn" id="tg-close-btn">
                <i class="fas fa-times"></i>
            </button>
            <div></div> <!-- –ü—É—Å—Ç–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è -->
        </div>
        
        <header>
            <h1><i class="fas fa-paw"></i> –õ–∞–±—É–±—É –ö–ª–∏–∫–µ—Ä</h1>
            <p class="subtitle">–¢—ã–∫–∞–π –≤ –õ–∞–±—É–±—É, –æ—Ç–∫—Ä—ã–≤–∞–π –∫–µ–π—Å—ã –∏ –ø–æ–±–µ–∂–¥–∞–π –±–æ—Å—Å–æ–≤!</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="game">–ò–≥—Ä–∞</div>
            <div class="tab" data-tab="cases">–ö–µ–π—Å—ã</div>
            <div class="tab" data-tab="bosses">–ë–æ—Å—Å—ã</div>
            <div class="tab" data-tab="collection">–ö–æ–ª–ª–µ–∫—Ü–∏—è</div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-title">–ú–æ–Ω–µ—Ç—ã</div>
                <div class="stat-value" id="coins">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-title">–ö–ª–∏–∫–∏</div>
                <div class="stat-value" id="clicks">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-title">–î–æ—Ö–æ–¥/–∫–ª–∏–∫</div>
                <div class="stat-value" id="income">0.1</div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∏–≥—Ä—ã -->
        <div class="tab-content active" id="game-tab">
            <div class="game-content">
                <div class="labubu-area">
                    <div class="labubu-container" id="labubu-container">
                        <img src="https://kicksmania.ru/storage/app/uploads/public/683/743/50b/thumb_8932_400_400_0_0_fit.png" alt="Labubu Classic" class="labubu-image" id="labubu-img">
                    </div>
                    <button class="click-button" id="click-btn">–¢—ã–∫–Ω—É—Ç—å –õ–∞–±—É–±—É! üëÜ</button>
                </div>
                
                <div class="shop-area">
                    <h2 class="shop-title"><i class="fas fa-trophy"></i> –ü—Ä–æ–≥—Ä–µ—Å—Å –±–æ—Å—Å–æ–≤</h2>
                    <div id="bosses-progress"></div>
                </div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∫–µ–π—Å–æ–≤ -->
        <div class="tab-content" id="cases-tab">
            <div class="shop-area" style="max-height: none;">
                <h2 class="shop-title"><i class="fas fa-gift"></i> –ö–µ–π—Å—ã —Å –õ–∞–±—É–±—É</h2>
                <div class="cases-container" id="cases-container"></div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –±–æ—Å—Å–æ–≤ -->
        <div class="tab-content" id="bosses-tab">
            <div class="bosses-area">
                <h2 class="shop-title"><i class="fas fa-dragon"></i> –°—Ä–∞–∂–µ–Ω–∏—è —Å –±–æ—Å—Å–∞–º–∏</h2>
                <p class="collection-hint">
                    –°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –º–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –±–æ—Å—Å–∞–º–∏! –£ –≤–∞—Å –µ—Å—Ç—å 60 —Å–µ–∫—É–Ω–¥, —á—Ç–æ–±—ã –Ω–∞–±—Ä–∞—Ç—å –±–æ–ª—å—à–µ –∫–ª–∏–∫–æ–≤, —á–µ–º –≤–∞—à –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫.
                    –ó–∞ –ø–æ–±–µ–¥—É –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ü–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã!
                </p>
                <div class="boss-container" id="bosses-container"></div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ -->
        <div class="tab-content" id="collection-tab">
            <div class="collection-area">
                <h2 class="shop-title"><i class="fas fa-star"></i> –í–∞—à–∞ –ö–æ–ª–ª–µ–∫—Ü–∏—è –õ–∞–±—É–±—É</h2>
                <p class="collection-hint">
                    –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ –≤–∞—à–∏ –õ–∞–±—É–±—É! –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω.
                </p>
                <div class="collection-container" id="collection-container"></div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –±–∏—Ç–≤—ã -->
        <div class="tab-content" id="battle-tab">
            <div class="battle-area">
                <h2 class="battle-header" id="battle-title">–ë–∏—Ç–≤–∞ —Å –±–æ—Å—Å–æ–º</h2>
                <div class="timer" id="battle-timer">60</div>
                
                <div class="battle-container">
                    <div class="battle-player">
                        <div class="battle-title">–í–∞—à –õ–∞–±—É–±—É</div>
                        <img src="https://i.imgur.com/8JQYf7j.png" class="battle-image" id="player-img">
                        <div class="battle-score" id="player-score">0</div>
                    </div>
                    
                    <div class="vs">VS</div>
                    
                    <div class="battle-boss">
                        <div class="battle-title" id="boss-name">–ë–æ—Å—Å</div>
                        <img src="https://i.imgur.com/5w1gFpL.png" class="battle-image" id="boss-img">
                        <div class="battle-score" id="boss-score">0</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                
                <button class="click-button" id="battle-click-btn">–ö–ª–∏–∫–∞–π –±—ã—Å—Ç—Ä–µ–µ! üëÜ</button>
                
                <div class="battle-result" id="battle-result"></div>
                
                <button class="back-button" id="back-button">
                    <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
                </button>
            </div>
        </div>
        
        <!-- –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞ -->
        <div class="case-opening" id="case-opening">
            <div class="case-content" id="case-content">
                <div class="case-result-title" id="case-result-title">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</div>
                <img src="" class="case-result-image" id="case-result-image">
                <div class="case-result-name" id="case-result-name"></div>
                <div class="case-result-description" id="case-result-description"></div>
                <button class="close-case" id="close-case">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
        
        <div class="bonus-notification" id="bonus-notification">
            –ë–æ–Ω—É—Å –∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!
        </div>
        
        <footer>
            –ò–≥—Ä–∞ "–õ–∞–±—É–±—É –ö–ª–∏–∫–µ—Ä" | –ö–µ–π—Å—ã –∏ –ë–æ—Å—Å—ã | –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Telegram
        </footer>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.enableClosingConfirmation(); // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
        
        // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—á–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        const labubus = [
            {
                id: 1,
                name: "Labubu Classic",
                series: "The Monsters",
                rarity: "common",
                income: 0.1,
                image: "https://kicksmania.ru/storage/app/uploads/public/683/743/50b/thumb_8932_400_400_0_0_fit.png",
                description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –õ–∞–±—É–±—É —Å –æ–∑–æ—Ä–Ω–æ–π —É–ª—ã–±–∫–æ–π"
            },
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        ];

        // –ö–µ–π—Å—ã
        const cases = [
            // ... –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        ];

        // –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –±–æ—Å—Å—ã
        const bosses = [
            // ... –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            coins: 0,
            clicks: 0,
            ownedLabubus: [1],
            defeatedBosses: [],
            currentBoss: null,
            selectedLabubu: 1,
            battle: {
                playerScore: 0,
                bossScore: 0,
                timer: 60,
                interval: null
            },
            income: 0.1
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        // ... –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            // ... –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

            // –î–û–ë–ê–í–õ–ï–ù–û: –§–∏–∫—Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
            
            window.addEventListener('resize', () => {
                document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
            });
        }

        // –î–û–ë–ê–í–õ–ï–ù–û: –§–∏–∫—Å –¥–≤–æ–π–Ω–æ–≥–æ —Ç–∞–ø–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        let lastTouchTime = 0;
        const DOUBLE_TAP_DELAY = 300;

        labubuContainer.addEventListener('touchend', function(event) {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTouchTime;
            
            if (tapLength < DOUBLE_TAP_DELAY && tapLength > 0) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            lastTouchTime = currentTime;
            
            // –≠–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫
            handleClick();
        });

        // –û—Å—Ç–∞–ª—å–Ω–æ–π JavaScript –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        // ...
    </script>
</body>
</html>
